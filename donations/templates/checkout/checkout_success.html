{% extends "base.html" %}
{% load static i18n %}
{% load static %}

{% block extra_css %}
<style>
    .success-animation {
        animation: bounce 2s infinite;
    }
    
    .confetti-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
        overflow: hidden;
    }
    
    .confetti {
        position: absolute;
        width: 10px;
        height: 20px;
        opacity: 0.8;
        animation: fall linear forwards;
    }
    
    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
    
    @keyframes fall {
        to {
            transform: translateY(100vh) rotate(360deg);
        }
    }
    
    .emoji-celebration {
        font-size: 3.5rem;
        margin-bottom: 1rem;
    }
    
    .next-steps {
        background-color: #f8f9fa;
        border-radius: 15px;
        padding: 1.5rem;
        margin: 2rem 0;
        border-left: 1px solid #28a745;
    }
    
    .share-buttons {
        margin-top: 1.5rem;
        display: flex;
        justify-content: center;
        gap: 10px;
    }
    
    .fun-fact {
        font-size: 0.9rem;
        color: #6c757d;
        font-style: italic;
        margin-top: 1.5rem;
        border-top: 1px dashed #dee2e6;
        padding-top: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<!-- ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ -->
<div class="confetti-container" id="confetti-container"></div>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">

            <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø´ÙƒØ± -->
            <div class="card shadow-lg p-5 text-center border-0 rounded-4" 
                 style="background: linear-gradient(135deg, #f8f9fa 0%, #e9f5e9 100%);">

                <!-- Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ø­ØªÙØ§Ù„ÙŠ -->
            
                <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù†Ø¬Ø§Ø­ -->
                <div class="success-animation mb-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="#28a745" class="bi bi-check-circle" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                    </svg>
                </div>

                <!-- Ø±Ø³Ø§Ù„Ø© Ø´ÙƒØ± -->
                <h2 class="mb-3 text-success fw-bold">
                    {% if LANGUAGE_CODE == 'ar' %}
                        Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ¨Ø±Ø¹Ùƒ!
                    {% else %}
                        Thank you for your donation!
                    {% endif %}
                </h2>
                <p class="mb-4" style="line-height: 1.6; font-size: 1.2rem;">
                    {% if LANGUAGE_CODE == 'ar' %}
                        Ù„Ù‚Ø¯ ØªÙ„Ù‚ÙŠÙ†Ø§ ØªØ¨Ø±Ø¹Ùƒ Ø¨Ù†Ø¬Ø§Ø­.<br>
                        Ù…Ø³Ø§Ù‡Ù…ØªÙƒ ØªØµÙ†Ø¹ ÙØ±Ù‚Ø§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹ ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† â¤ï¸
                    {% else %}
                        Your donation has been received successfully.<br>
                        Your contribution makes a big difference in people's lives â¤ï¸
                    {% endif %}
                </p>

                <!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© -->
                 
                <div class="next-steps {% if LANGUAGE_CODE == 'ar' %}text-end{% else %}text-start{% endif %} mb-4">
                    <h5 class="fw-bold text-success mb-3">
                        {% if LANGUAGE_CODE == 'ar' %}
                            Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ÙŠØ­Ø¯Ø« Ø§Ù„Ø¢Ù†ØŸ
                        {% else %}
                            What happens next?
                        {% endif %}
                    </h5>

                    
                    <ul class="mb-0" style="line-height: 1.6;">
                        {% if LANGUAGE_CODE == 'ar' %}
                            <li>Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹</li>
                            <li>Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø£ÙŠ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¨Ø®ØµÙˆØµ Ø§Ù„ØªØ¨Ø±Ø¹</li>
                            <li>ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© Ø£Ø®Ø¨Ø§Ø±Ù†Ø§ ÙˆÙØ±Øµ Ø§Ù„ØªØ·ÙˆØ¹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ù†Ø§</li>
                        {% else %}
                            <li>You will receive a confirmation email shortly</li>
                            <li>We will contact you if there are any updates regarding your donation</li>
                            <li>You can follow our news and volunteer opportunities on our website</li>
                        {% endif %}
                    </ul>
                </div>

                <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ -->
                <div class="d-flex flex-column flex-md-row justify-content-center gap-3 mt-4">
                    <a href="{% url 'home:home' %}" class="btn btn-outline-primary btn-lg px-4">
                        {% if LANGUAGE_CODE == 'ar' %} Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© {% else %} Back to Home {% endif %}
                    </a>
                    <a href="{% url 'volunteers:volunteer' %}" class="btn btn-success btn-lg px-4">
                        {% if LANGUAGE_CODE == 'ar' %} Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙƒÙ…ØªØ·ÙˆØ¹ {% else %} Register as Volunteer {% endif %}
                    </a>
                </div>

                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…Ù…ØªØ¹Ø© -->
                <div class="fun-fact mt-4" style="font-size: 1rem; color: #555;">
                    {% if LANGUAGE_CODE == 'ar' %}
                        ğŸ’¡ ØªØ¨Ø±Ø¹Ø§ØªÙƒÙ… ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø­ÙŠØ§Ø© Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ù†Ø§Ø³ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø±!
                    {% else %}
                        ğŸ’¡ Your donations help improve many lives directly!
                    {% endif %}
                </div>

            </div>

            <!-- Ø§Ù‚ØªØ¨Ø§Ø³ ØªØ­ÙÙŠØ²ÙŠ -->
            <div class="card border-0 shadow-sm mt-4 p-3 text-center" style="background-color: #e3f2fd;">
                <blockquote class="blockquote mb-0">
                    {% if LANGUAGE_CODE == 'ar' %}
                        <p class="mb-0">"Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„ØªØ¬Ø¯ Ù†ÙØ³Ùƒ Ù‡ÙŠ Ø£Ù† ØªÙÙ‚Ø¯Ù‡Ø§ ÙÙŠ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†."</p>
                        <footer class="blockquote-footer mt-2">Ù…Ù‡Ø§ØªÙ…Ø§ ØºØ§Ù†Ø¯ÙŠ</footer>
                    {% else %}
                        <p class="mb-0">"The best way to find yourself is to lose yourself in the service of others."</p>
                        <footer class="blockquote-footer mt-2">Mahatma Gandhi</footer>
                    {% endif %}
                </blockquote>
            </div>

        </div>
    </div>
</div>



{% endblock %}

{% block extra_js %}
<script>
    // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
    function createConfetti() {
        const container = document.getElementById('confetti-container');
        const colors = ['#28a745', '#20c997', '#ffc107', '#fd7e14', '#0dcaf0', '#6f42c1'];
        
        for (let i = 0; i < 100; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
            confetti.style.animationDelay = Math.random() * 2 + 's';
            container.appendChild(confetti);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
            setTimeout(() => {
                confetti.remove();
            }, 5000);
        }
    }
    
    // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
    function shareOnWhatsApp() {
        const text = "Ù„Ù‚Ø¯ Ø³Ø¬Ù„Øª Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„ØªØ·ÙˆØ¹ÙŠ! Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© Ø§Ù„Ø±Ø§Ø¦Ø¹Ø© ğŸ‰";
        const url = window.location.href;
        window.open(`https://wa.me/?text=${encodeURIComponent(text + " " + url)}`, '_blank');
    }
    
    // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±
    function shareOnTwitter() {
        const text = "Ù„Ù‚Ø¯ Ø³Ø¬Ù„Øª Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„ØªØ·ÙˆØ¹ÙŠ! Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© Ø§Ù„Ø±Ø§Ø¦Ø¹Ø© ğŸ‰";
        const url = window.location.href;
        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
    }
    
    // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', function() {
        createConfetti();
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ù†Ø¬Ø§Ø­ Ø®ÙÙŠÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
        const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ');
        audio.volume = 0.3;
        audio.play().catch(e => console.log("Audio play failed (optional)"));
        
        // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
        console.log("%cğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ØµØ¨Ø­Øª Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆØ¹ ğŸ‰", "color: #28a745; font-size: 16px; font-weight: bold;");
    });
</script>
{% endblock %}